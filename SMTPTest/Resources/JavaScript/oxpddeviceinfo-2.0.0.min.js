!function(a,b){"use strict";function c(b,c){return 0===b.status?new a.Error(a.ErrorName.AjaxError,"Connection failed"):404===b.status?new a.Error(a.ErrorName.NotFound,"404 Requested resource not found"):500===b.status?new a.Error(a.ErrorName.ServerError,"500 Internal server error"):"parsererror"===c?new a.Error(a.ErrorName.AjaxError,"Parse failed"):"timeout"===c?new a.Error(a.ErrorName.AjaxError,"Timeout"):"abort"===c?new a.Error(a.ErrorName.AjaxError,"Aborted"):new a.Error(a.ErrorName.Unknown,"Unknown Error: "+b.responseText)}var d=null,e='<s:Envelope xmlns:s="http://www.w3.org/2003/05/soap-envelope" xmlns:a="http://schemas.xmlsoap.org/ws/2004/08/addressing"><s:Header><a:Action s:mustUnderstand="1">http://www.hp.com/schemas/imaging/OXPd/service/deviceinfo/2013/03/01/IDeviceInfoService/',f='</a:Action><a:MessageID>urn:uuid:11dd0097-c3bc-4fee-905f-61bb5c6c5dba</a:MessageID><a:ReplyTo><a:Address>http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous</a:Address></a:ReplyTo><a:To s:mustUnderstand="1">https://localhost:7627/hp/device/webservices/OXPd/DeviceInfoService</a:To></s:Header><s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">',g="</s:Body></s:Envelope>";a.ErrorName={NotSetup:"NotSetup",ServiceNotFound:"ServiceNotFound",AjaxError:"AjaxError",NotFound:"NotFound",ServerError:"ServerError",Unknown:"Unknown"},a.Setup=function(a,b){if(!a)throw new e.Error("ServiceNotFound","OXPd:DeviceInfo is not supported on the target device");var c="https://localhost:7627";void 0!==b&&null!==b&&b.length>0&&(c="https://"+b+":7627");var e=a.GetDiscoveredFeatureByResourceTypeAndRevision("OXPd:DeviceInfo","http://www.hp.com/schemas/imaging/OXPd/service/deviceinfo/2013/03/01");if(!e)throw new e.Error("ServiceNotFound","OXPd:DeviceInfo is not supported on the target device");d=c+e.resourceURI},a.Error=function(a,b){this.name=a,this.message=b},a.Error.prototype=new Error,a.Error.prototype.constructor=a.Error,a.CustomerInfo=function(c){var d=b(c);if(d.find("Fault").length>0)throw new a.Error(a.ErrorName.Unknown,d.find("Subcode").find("Value").text().replace("a:","")+": "+d.find("Text").text());this.assetNumber=d.find("assetNumber").text(),this.companyContact=d.find("companyContact").text(),this.companyName=d.find("companyName").text(),this.deviceLocation=d.find("deviceLocation").text(),this.machineName=d.find("machineName").text()},a.GetCustomerInfo=function(){if(null===d){var h=new a.Error(a.ErrorName.NotSetup,"You must call oxpddeviceinfo.Setup first");return b.Deferred().reject(h)}var i=e+"GetCustomerInfo"+f+'<GetCustomerInfo xmlns="http://www.hp.com/schemas/imaging/OXPd/service/deviceinfo/2013/03/01"/>'+g;return b.ajax({url:d,type:"POST",dataType:"xml",data:i,contentType:"application/soap+xml; charset=utf-8",headers:{Authorization:"Basic "+btoa("guest:")}}).then(function(c){return b.Deferred(function(b){try{var d=new a.CustomerInfo(c);b.resolve(d)}catch(e){return b.reject(e)}}).promise()},function(a,d){var e=c(a,d);return b.Deferred().reject(e)})},a.ManufacturerInfo=function(c){var d=b(c);if(d.find("Fault").length>0)throw new a.Error(a.ErrorName.Unknown,d.find("Subcode").find("Value").text().replace("a:","")+": "+d.find("Text").text());this.deviceId=d.find("deviceId").text(),this.deviceSerialNumber=d.find("deviceSerialNumber").text(),this.firmwareVersion=d.find("firmwareVersion").text(),this.formatterSerialNumber=d.find("formatterSerialNumber").text(),this.hostName=d.find("hostName").text(),this.ipAddress=d.find("ipAddress").text(),this.macAddress=d.find("macAddress").text(),this.modelName=d.find("modelName").text(),this.productNumber=d.find("productNumber").text()},a.GetManufacturerInfo=function(){if(null===d){var h=new a.Error(a.ErrorName.NotSetup,"You must call oxpddeviceinfo.Setup first");return b.Deferred().reject(h)}var i=e+"GetManufacturerInfo"+f+'<GetManufacturerInfo xmlns="http://www.hp.com/schemas/imaging/OXPd/service/deviceinfo/2013/03/01"/>'+g;return b.ajax({url:d,type:"POST",dataType:"xml",data:i,contentType:"application/soap+xml; charset=utf-8",headers:{Authorization:"Basic "+btoa("guest:")}}).then(function(c){return b.Deferred(function(b){try{var d=new a.ManufacturerInfo(c);b.resolve(d)}catch(e){return b.reject(e)}}).promise()},function(a,d){var e=c(a,d);return b.Deferred().reject(e)})}}(window.oxpddeviceinfo=window.oxpddeviceinfo||{},jQuery);
